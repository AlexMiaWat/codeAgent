# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è Cursor CLI

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É Cursor CLI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã Code Agent.

## –ß—Ç–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (`.cursor/cli-config.json`)

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

**–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- **Shell –∫–æ–º–∞–Ω–¥—ã**: git, npm, python, pytest, pip, docker, make, bash –∏ –¥—Ä.
- **–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: src/**, docs/**, test/**, config/**, *.md, *.py, *.json, *.yaml
- **–ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤**: src/**, docs/**, test/**, config/**, *.md, *.py, *.json, *.yaml

**–ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏):**
- –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏: *.env, credentials*, secrets*, *_key*, *_secret*
- –û–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: rm -rf /, dd, mkfs, format

### 2. –û–¥–æ–±—Ä–µ–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ (`.cursor/mcp-approvals.json`)

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–¥–æ–±—Ä–µ–Ω—ã –≤—Å–µ MCP —Å–µ—Ä–≤–µ—Ä—ã:
- `life-docs` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Life
- `playwright` - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
- `filesystem` - —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- `git` - Git –æ–ø–µ—Ä–∞—Ü–∏–∏

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Cursor CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–í `src/cursor_cli_interface.py` –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```python
# –î–ª—è Docker
bash_pipe_cmd = f'printf "%s\\n" "{escaped_prompt}" | agent -p --force --approve-mcps'

# –î–ª—è WSL
cmd.extend(["-p", prompt, "--force", "--approve-mcps"])

# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ agent
cmd.extend(["-p", prompt, "--force", "--approve-mcps"])
```

**–§–ª–∞–≥–∏:**
- `--force` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `--approve-mcps` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–¥–æ–±—Ä—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

–í `config/config.yaml` –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```yaml
cursor:
  cli:
    auto_approve: true        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
    force_mode: true          # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    approve_mcps: true        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ MCP
  
  permissions:
    enabled: true
    config_file: ".cursor/cli-config.json"
    mcp_approvals_file: ".cursor/mcp-approvals.json"
    allow_shell: [git, npm, python, pytest, ...]
    allow_read: [src/**, docs/**, ...]
    allow_write: [src/**, docs/**, ...]
    deny_write: [**/*.env, **/credentials*, ...]
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

1. **Code Agent** —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è Cursor
2. **Cursor CLI** –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É —Å —Ñ–ª–∞–≥–∞–º–∏ `--force --approve-mcps`
3. **Cursor** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ `.cursor/cli-config.json`
4. **Cursor** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏–µ MCP –≤ `.cursor/mcp-approvals.json`
5. **Cursor** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É **–±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**
6. **Cursor** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç Code Agent

### –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã

```bash
# Docker (–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ)
docker exec -i cursor-agent bash -c \
  'export LANG=C.utf8 LC_ALL=C.utf8 && cd /workspace && \
   script -q -c "printf \"%s\\n\" \"–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.py\" | agent -p --force --approve-mcps" /dev/null'

# –õ–æ–∫–∞–ª—å–Ω—ã–π agent
agent -p "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.py" --force --approve-mcps

# WSL
wsl agent -p "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.py" --force --approve-mcps
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ

‚úÖ **–°–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã** - –∑–∞–ø—Ä–µ—â–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤:
- `*.env` —Ñ–∞–π–ª—ã
- `credentials*` —Ñ–∞–π–ª—ã
- `secrets*` —Ñ–∞–π–ª—ã
- `*_key*` –∏ `*_secret*` —Ñ–∞–π–ª—ã

‚úÖ **–û–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã** - –∑–∞–ø—Ä–µ—â–µ–Ω—ã:
- `rm -rf /` –∏ –ø–æ–¥–æ–±–Ω—ã–µ
- `dd` (–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `mkfs` (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤)
- `format` (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –ß—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ

‚úÖ **–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞**:
- –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≤ `src/`, `docs/`, `test/`, `config/`
- Git –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Docker –æ–ø–µ—Ä–∞—Ü–∏–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la .cursor/cli-config.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
cat .cursor/cli-config.json
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏–µ MCP

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la .cursor/mcp-approvals.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
cat .cursor/mcp-approvals.json
```

### 3. –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞

```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π agent
agent -p "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test_permissions.txt —Å —Ç–µ–∫—Å—Ç–æ–º 'Hello World'" --force --approve-mcps

# Docker (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
docker exec -i cursor-agent bash -c \
  'printf "%s\n" "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test_permissions.txt" | agent -p --force --approve-mcps'
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Code Agent
tail -f logs/code_agent.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Cursor CLI
# (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Docker –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Cursor –≤—Å–µ –µ—â–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
   ```bash
   ls -la .cursor/cli-config.json
   ls -la .cursor/mcp-approvals.json
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–ª–∞–≥–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: agent -p "..." --force --approve-mcps
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: logs/code_agent.log
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Cursor CLI:
   ```bash
   agent --version
   # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–µ—Ä—Å–∏—è 2026 –∏–ª–∏ –Ω–æ–≤–µ–µ
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: MCP —Å–µ—Ä–≤–µ—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ MCP:
   ```bash
   cat .cursor/mcp-approvals.json
   ```

2. –í—Ä—É—á–Ω—É—é –æ–¥–æ–±—Ä–∏—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä:
   ```bash
   cursor-agent mcp login <server-name>
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–ª–∞–≥ `--approve-mcps` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–º–∞–Ω–¥–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ `deny` –≤ `.cursor/cli-config.json`
2. –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–∞, –¥–æ–±–∞–≤—å—Ç–µ –µ—ë –≤ `allow`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Code Agent

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.cursor/cli-config.json`:

```json
{
  "permissions": {
    "allow": [
      "Shell(–Ω–æ–≤–∞—è-–∫–æ–º–∞–Ω–¥–∞)",
      "Read(–Ω–æ–≤—ã–π/–ø—É—Ç—å/**)",
      "Write(–Ω–æ–≤—ã–π/–ø—É—Ç—å/**)"
    ]
  }
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.cursor/mcp-approvals.json`:

```json
{
  "approvals": {
    "–Ω–æ–≤—ã–π-—Å–µ—Ä–≤–µ—Ä": {
      "approved": true,
      "timestamp": "2026-01-18T00:00:00Z",
      "auto_approve": true
    }
  }
}
```

### –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–∞–º:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cp .cursor/cli-config.json ~/.cursor/cli-config.json
cp .cursor/mcp-approvals.json ~/.cursor/mcp-approvals.json
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö** - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –≤—ã –¥–æ–≤–µ—Ä—è–µ—Ç–µ
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏** - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
3. **–û–±–Ω–æ–≤–ª—è—Ç—å deny-—Å–ø–∏—Å–æ–∫** - –¥–æ–±–∞–≤–ª—è—Ç—å –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –º–µ—Ä–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö** - –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∫ –≤–∞–∂–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º

### ‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–∞—Ö** - —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **–î–∞–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º** - –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ—Å—å –ø—Ä–æ–µ–∫—Ç–æ–º
3. **–†–∞–∑—Ä–µ—à–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã** - /etc, /usr, /bin –∏ —Ç.–¥.
4. **–û—Ç–∫–ª—é—á–∞—Ç—å deny-—Å–ø–∏—Å–æ–∫** - –≤—Å–µ–≥–¥–∞ –¥–µ—Ä–∂–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ –∑–∞–ø—Ä–µ—Ç—ã

## –°—Å—ã–ª–∫–∏

- [Cursor CLI Documentation](https://docs.cursor.com/cli/overview)
- [Cursor CLI Permissions](https://docs.cursor.com/cli/reference/permissions)
- [Cursor CLI Headless Mode](https://docs.cursor.com/cli/headless)
- [MCP (Model Context Protocol)](https://docs.cursor.com/advanced/model-context-protocol)

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

Cursor CLI —Ç–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**.

### –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:

1. ‚úÖ –°–æ–∑–¥–∞–Ω `.cursor/cli-config.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
2. ‚úÖ –°–æ–∑–¥–∞–Ω `.cursor/mcp-approvals.json` - –æ–¥–æ–±—Ä–µ–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `src/cursor_cli_interface.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ `--force --approve-mcps`
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `config/config.yaml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

#### –ó–∞–ø—É—Å–∫ Code Agent

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ:

```bash
python -m src.server
```

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã Cursor CLI –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π**.

#### –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π agent
agent -p "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.txt —Å —Ç–µ–∫—Å—Ç–æ–º Hello" --force --approve-mcps

# Docker (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
docker exec -i cursor-agent bash -c \
  'printf "%s\n" "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.txt" | agent -p --force --approve-mcps'
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### –ß—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ ‚úÖ

- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ `src/`, `docs/`, `test/`, `config/`
- Git –∫–æ–º–∞–Ω–¥—ã
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Docker –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –ß—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ ‚ùå

- –ó–∞–ø–∏—Å—å –≤ `*.env`, `credentials*`, `secrets*`
- –û–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: `rm -rf /`, `dd`, `mkfs`, `format`
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

---

## üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞

### üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç
python -m src.server
```

–í—Å—ë! –ê–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
pytest test/test_full_access_permissions.py -v

# –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π agent)
agent -p "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.txt" --force --approve-mcps

# –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ (Docker)
docker exec -i cursor-agent bash -c \
  'printf "%s\n" "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.txt" | agent -p --force --approve-mcps'
```

### üîß –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.cursor/cli-config.json`:

```json
{
  "permissions": {
    "allow": [
      "Shell(–Ω–æ–≤–∞—è-–∫–æ–º–∞–Ω–¥–∞)",
      "Read(–Ω–æ–≤—ã–π/–ø—É—Ç—å/**)",
      "Write(–Ω–æ–≤—ã–π/–ø—É—Ç—å/**)"
    ]
  }
}
```

### üìã –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cat .cursor/cli-config.json
cat .cursor/mcp-approvals.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/code_agent.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
agent --version
```

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2026-01-18 - –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

- ‚úÖ –°–æ–∑–¥–∞–Ω `.cursor/cli-config.json` —Å –ø–æ–ª–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω `.cursor/mcp-approvals.json` —Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `src/cursor_cli_interface.py` —Å —Ñ–ª–∞–≥–∞–º–∏ `--force --approve-mcps`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `config/config.yaml` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `logs/code_agent.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `.cursor/cli-config.json`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è MCP: `.cursor/mcp-approvals.json`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Cursor CLI
5. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
