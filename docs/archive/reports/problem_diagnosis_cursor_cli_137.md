# –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã: Cursor CLI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 137 (SIGKILL)

**–î–∞—Ç–∞:** 2026-01-18  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –∫–æ–º–∞–Ω–¥—ã `agent -p` —á–µ—Ä–µ–∑ Docker –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Å –∫–æ–¥–æ–º 137  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê!** –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

---

## üîç –ù–ê–ô–î–ï–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê (2026-01-18)

### –û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `agent ls` –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞:

```
ERROR Raw mode is not supported on the current process.stdin, which Ink uses
       as input stream by default.
       Read about how to prevent this error on
       https://github.com/vadimdemedes/ink/#israwmodesupported
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–∞–Ω–¥–∞ `agent` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É **Ink** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞. Ink –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å `process.stdin` –≤ "raw mode", —á—Ç–æ **–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ TTY**.

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. **Ink —Ç—Ä–µ–±—É–µ—Ç TTY** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—ã—Ç–∞–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º –Ω–∞–ø—Ä—è–º—É—é
2. **Docker –±–µ–∑ TTY** - –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `docker exec -i` (–±–µ–∑ `-t`), –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç TTY
3. **–ü—Ä–æ–±–ª–µ–º–∞ –¥–∞–∂–µ —Å `-p`** - –¥–∞–∂–µ —Å —Ñ–ª–∞–≥–æ–º `--print` (non-interactive), `agent` –≤—Å–µ —Ä–∞–≤–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç Ink

### –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Ink Raw Mode Error:** https://github.com/vadimdemedes/ink/#israwmodesupported
- –ü—Ä–æ–±–ª–µ–º–∞ –∏–∑–≤–µ—Å—Ç–Ω–∞ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°–∏–º–ø—Ç–æ–º—ã

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —á–µ—Ä–µ–∑ Cursor CLI (`agent -p`) –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Å **–∫–æ–¥–æ–º 137 (SIGKILL)**:

```bash
docker exec -i cursor-agent-life bash -c 'export LANG=C.utf8 LC_ALL=C.utf8 && cd /workspace && /root/.local/bin/agent -p "instruction"'
# Exit code: 137
```

**–ö–æ–¥ 137 = 128 + 9 (SIGKILL)** –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –±—ã–ª –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω —è–¥—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã.

### –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å

–ü—Ä–æ–±–ª–µ–º–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è **–≤—Å–µ–≥–¥–∞** –¥–ª—è –ª—é–±—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º: `agent -p "hello"` ‚Üí –∫–æ–¥ 137
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º: `agent -p "–ø—Ä–∏–≤–µ—Ç"` ‚Üí –∫–æ–¥ 137
- ‚úÖ –°–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ ‚Üí –∫–æ–¥ 137
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã —Å `--resume` ‚Üí –∫–æ–¥ 137

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ `agent --version` ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤—ã–≤–æ–¥: `2026.01.17-d239e66`)
- ‚úÖ `agent --help` ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤—ã–≤–æ–¥–∏—Ç —Å–ø—Ä–∞–≤–∫—É)
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/workspace` –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ UTF-8 –ª–æ–∫–∞–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (`LANG=C.utf8 LC_ALL=C.utf8`)

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–∫—Ä—É–∂–µ–Ω–∏–µ

- **–û–° —Ö–æ—Å—Ç–∞:** Windows 10 (Git Bash)
- **Docker:** –í–µ—Ä—Å–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `cursor-agent-life` (–Ω–∞ –±–∞–∑–µ `ubuntu:22.04`)
- **Agent CLI:** –í–µ—Ä—Å–∏—è `2026.01.17-d239e66` (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç)
- **–ü—É—Ç—å –∫ agent:** `/root/.local/bin/agent`
- **–†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:** `/workspace` (—Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏–∑ `d:/Space/life`)

### –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

–ö–æ–º–∞–Ω–¥–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ Python (`src/cursor_cli_interface.py`, —Å—Ç—Ä–æ–∫–∞ ~549):

```python
cmd = [
    "docker", "exec",
    "-i",  # -i –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–Ω–æ –±–µ–∑ TTY)
    "cursor-agent-life",
    "bash", "-c",
    f'export LANG=C.utf8 LC_ALL=C.utf8 && cd /workspace && {agent_cmd}'
]
```

–ì–¥–µ `agent_cmd` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫:
```python
agent_cmd_parts = ["/root/.local/bin/agent"]
agent_cmd_parts.extend(["-p", f'\'{escaped_prompt}\''])
agent_cmd = ' '.join(agent_cmd_parts)
```

**–ü–æ–ª–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:**
```bash
docker exec -i cursor-agent-life bash -c 'export LANG=C.utf8 LC_ALL=C.utf8 && cd /workspace && /root/.local/bin/agent -p '\''instruction'\'''
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- **CURSOR_API_KEY:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ `docker-compose.agent.yml` —á–µ—Ä–µ–∑ `environment: - CURSOR_API_KEY=${CURSOR_API_KEY:-}`
- **LANG, LC_ALL:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ `docker-compose.agent.yml` –∏ –≤ –∫–æ–º–∞–Ω–¥–µ: `LANG=C.utf8 LC_ALL=C.utf8`

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ü—Ä–æ–±–ª–µ–º—ã —Å CURSOR_API_KEY

**–ì–∏–ø–æ—Ç–µ–∑–∞:** API –∫–ª—é—á –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker exec cursor-agent-life bash -c 'echo $CURSOR_API_KEY | head -c 20'
# –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞—á–∞–ª–æ –∫–ª—é—á–∞ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ï—Å–ª–∏ –∫–ª—é—á –ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π, `agent` –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π
- –ù–æ –æ–±—ã—á–Ω–æ —ç—Ç–æ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ SIGKILL

### 2. –¢–∞–π–º–∞—É—Ç –∏–ª–∏ –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤

**–ì–∏–ø–æ—Ç–µ–∑–∞:** `agent -p` —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏/—Ä–µ—Å—É—Ä—Å–æ–≤, —á–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker inspect cursor-agent-life | grep -i memory
docker inspect cursor-agent-life | grep -i cpu
```

**–°–∏–º–ø—Ç–æ–º—ã:**
- SIGKILL —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OOM killer (Out Of Memory)
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏, –æ–Ω –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –∫–æ–¥–æ–º 137

### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å TTY/STDIN ‚úÖ **–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û!**

**–ì–∏–ø–æ—Ç–µ–∑–∞:** `agent -p` —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∏–ª–∏ TTY. ‚úÖ **–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** `agent` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É **Ink** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞. Ink —Ç—Ä–µ–±—É–µ—Ç TTY –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ "raw mode".

**–¢–µ–∫—É—â–∞—è –∫–æ–º–∞–Ω–¥–∞:**
```bash
docker exec -i cursor-agent-life ...  # -i (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π), –Ω–æ –±–µ–∑ -t (TTY)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å TTY
docker exec -it cursor-agent-life bash -c 'cd /workspace && /root/.local/bin/agent -p "test"'
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –° `-i` (–±–µ–∑ `-t`): Ink –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ raw mode ‚Üí –æ—à–∏–±–∫–∞ ‚Üí SIGKILL
- –° `-it` (—Å TTY): –ú–æ–∂–µ—Ç "–∑–∞–≤–∏—Å–∞—Ç—å" –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–≤–æ–¥–∞, –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å):**
- –ù—É–∂–µ–Ω —Å–ø–æ—Å–æ–± –æ—Ç–∫–ª—é—á–∏—Ç—å Ink –¥–ª—è non-interactive —Ä–µ–∂–∏–º–∞
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

### 4. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ bash -c

**–ì–∏–ø–æ—Ç–µ–∑–∞:** –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `bash -c` –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞.

**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:**
```bash
bash -c 'export ... && cd /workspace && /root/.local/bin/agent -p '\''instruction'\'''
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```bash
# –ü—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–µ–∑ bash -c
docker exec cursor-agent-life /root/.local/bin/agent -p "instruction"
# –ù–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ
```

### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–µ—Ä—Å–∏–µ–π agent CLI

**–ì–∏–ø–æ—Ç–µ–∑–∞:** –í–µ—Ä—Å–∏—è `2026.01.17-d239e66` –∏–º–µ–µ—Ç –±–∞–≥–∏ –∏–ª–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `-p` –≤ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å `agent` CLI
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 6. –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏

**–ì–∏–ø–æ—Ç–µ–∑–∞:** –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É UTF-8 –ª–æ–∫–∞–ª–∏, –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
docker exec -i cursor-agent-life bash -c 'cd /workspace && /root/.local/bin/agent -p "hello"'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ùå –¢–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 137, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker logs cursor-agent-life --tail 100
```

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- –û–±—ã—á–Ω–æ –ø—É—Å—Ç—ã–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω —Å `sleep infinity`)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker exec cursor-agent-life bash -c 'ps aux | grep agent'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∞ stderr

```bash
docker exec -i cursor-agent-life bash -c 'cd /workspace && /root/.local/bin/agent -p "test" 2>&1'
```

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- –û–±—ã—á–Ω–æ –ø—É—Å—Ç–æ–π –≤—ã–≤–æ–¥ (–Ω–µ—Ç –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥ SIGKILL)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
# –ü—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–±–µ–∑ bash -c)
docker exec cursor-agent-life /root/.local/bin/agent -p "hello"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ùå –¢–∞–∫–∂–µ –∫–æ–¥ 137

---

## –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

### 1. Cursor CLI –∏ Docker

**–í–æ–ø—Ä–æ—Å:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ Cursor CLI (`agent`) –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Docker –≤ headless —Ä–µ–∂–∏–º–µ?

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Cursor CLI —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É `-p` –¥–ª—è non-interactive —Ä–µ–∂–∏–º–∞
- –ù–æ –Ω–µ—è—Å–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —ç—Ç–æ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

### 2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é –¥–ª—è `agent -p`?

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ TTY?
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–≤–æ–¥?
- –ï—Å—Ç—å –ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞–º—è—Ç–∏/CPU?

### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Docker

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å `CURSOR_API_KEY` –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è `agent`?

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `environment: - CURSOR_API_KEY=${CURSOR_API_KEY:-}` –≤ `docker-compose.agent.yml`
- –ù–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥

### 4. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–í–æ–ø—Ä–æ—Å:** –ï—Å—Ç—å –ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–æ–º 137 –¥–ª—è `agent -p` –≤ Docker?

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –í–µ—Ä—Å–∏—è agent: `2026.01.17-d239e66`
- –ü—Ä–æ–±–ª–µ–º–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞

### 5. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–í–æ–ø—Ä–æ—Å:** –ï—Å—Ç—å –ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —á–µ—Ä–µ–∑ `agent` –≤ Docker?

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –ü—Ä–æ–±–æ–≤–∞–ª–∏ `agent -p` (non-interactive)
- –í–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–ª–∞–≥–∏ –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Cursor CLI

- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://cursor.com/docs/cli/overview
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–¥–µ–ª –æ headless/non-interactive —Ä–µ–∂–∏–º–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ CI/CD (Docker)

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ agent

- –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É `-p` —Ñ–ª–∞–≥–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å SIGKILL

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞–º—è—Ç–∏/CPU
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ TTY/STDIN/STDOUT
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- GitHub Issues –¥–ª—è Cursor CLI
- –§–æ—Ä—É–º Cursor
- Stack Overflow

### 5. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Background Agents API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Cursor IDE –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **Docker Compose:** `docker/docker-compose.agent.yml`
- **Dockerfile:** `docker/Dockerfile.agent`
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** `src/cursor_cli_interface.py`
- **–¢–µ—Å—Ç—ã:** `test_cursor_cli_full_scenarios.py`

### –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å, –∑–∞–ø—É—Å—Ç–∏–≤:
```bash
cd d:/Space/codeAgent
python test_cursor_cli_full_scenarios.py > test_output.log 2>&1
```

### –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:
```bash
docker exec -i cursor-agent-life bash -c 'cd /workspace && /root/.local/bin/agent -p "hello"'
echo "Exit code: $?"
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: Exit code: 137
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ:
- –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- –ö–∞–∫–∏–µ –ª–æ–≥–∏ –∏–ª–∏ —Ñ–∞–π–ª—ã —Ç—Ä–µ–±—É—é—Ç—Å—è
- –ö–∞–∫ –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –≤ –¥—Ä—É–≥–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

---

**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–º–æ—â–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ Cursor CLI / Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
