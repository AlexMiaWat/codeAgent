# Текущие задачи проекта

> **Обновлено:** 20260123
> **Сессия генерации:** 20260122_224954
> **Источник:** Автоматическая генерация Code Agent

## Высокий приоритет

### Система качества и гейтов CodeAgent
- [ ] **Реализовать систему качества и гейтов для CodeAgent процесса**
  - Добавить типизацию задач (code/docs/refactor/test/release/devops) с привязкой к пайплайнам
  - Реализовать Definition of Done гейты для каждого типа задач
  - Усилить верификацию результатов: git diff анализ, инвариантные проверки, LLM валидация
  - Добавить "память процесса" для хранения успешных паттернов (шаблон × модель × режим)
  - Реализовать умное принятие решений о стратегии выполнения (шаблон, модель, режим)
  - Настроить агрессивную автоматику с гейтами качества (auto-commit/push только при прохождении проверок)
  - см. docs/planning/task_1_20260122_224954.md

### Умная LLM интеграция
- [ ] **Внедрить умную проверку выполненной работы через LLM анализ**
  - Создать `_verify_real_work_done_llm` с best_of_two режимом и JSON mode
  - Реализовать `_validate_task_result_llm` для оценки качества и полноты результатов
  - Добавить умную фильтрацию задач `_filter_completed_tasks_llm` с учетом зависимостей
  - Создать `_analyze_error_llm` для категоризации ошибок и предложения решений
  - Реализовать `_should_use_cursor_llm` для адаптивного выбора инструмента
  - Добавить генерацию инструкций `_generate_instruction_llm` с учетом контекста
  - Создать утилиты `llm_utils.py` (extract_json_object, safe_llm_call, batch_llm_process, cache)
  - см. docs/planning/task_2_20260122_224954.md

### MCP серверы интеграция
- [ ] **Интегрировать MCP серверы для расширения функциональности**
  - Реализовать GitHub MCP: автоматическое создание PR, управление issues, синхронизация задач
  - Интегрировать Playwright MCP: E2E тестирование, визуальная регрессия, accessibility тесты
  - Добавить PostgreSQL MCP: хранение истории задач, метрики, аналитика производительности
  - Внедрить Docker MCP: изолированное выполнение задач, управление контейнерами, тестовые окружения
  - Настроить Slack MCP: уведомления о задачах, алерты об ошибках, интерактивное управление
  - Интегрировать Sentry MCP: автоматическая отправка ошибок, трекинг багов
  - Добавить Prometheus MCP: метрики в реальном времени, дашборды производительности
  - см. docs/planning/task_3_20260122_224954.md

## Средний приоритет

### Архитектурный рефакторинг
- [ ] **Рефакторинг архитектуры: улучшение модульности и упрощение абстракций**
  - Переработать структуру модулей: разделить большие файлы (server.py ~4500 строк)
  - Упростить абстракции: убрать лишние уровни наследования, улучшить интерфейсы
  - Удалить дублирование кода между компонентами (логика валидации, обработки ошибок)
  - Внедрить паттерн dependency injection для лучшей тестируемости
  - Оптимизировать импорты и зависимости между модулями
  - Добавить type hints везде, где отсутствуют

### Производительность и оптимизация
- [ ] **Оптимизация производительности: кэширование, батч-обработка, async операции**
  - Реализовать LRU кэширование для LLM ответов (TTL 1 час, max 100 записей)
  - Внедрить батч-обработку для групповых LLM запросов (до 10 задач одновременно)
  - Перевести блокирующие операции на async/await паттерн
  - Оптимизировать работу с файлами: асинхронное чтение, streaming для больших файлов
  - Добавить connection pooling для внешних API (GitHub, Docker, PostgreSQL)
  - Внедрить lazy loading для тяжелых компонентов (MCP серверы, LLM модели)

### Тестирование и качество кода
- [ ] **Увеличение покрытия тестами: интеграционные, E2E, нагрузочные тесты**
  - Написать интеграционные тесты для полного цикла выполнения задач
  - Внедрить E2E тестирование через Playwright MCP для UI сценариев
  - Создать тесты нагрузки для сервера и LLM компонентов
  - Добавить property-based тестирование для критических функций
  - Реализовать тесты для fallback механизмов и обработки ошибок
  - Внедрить mutation testing для проверки качества тестов

### Мониторинг и наблюдаемость
- [ ] **Реализация системы мониторинга: метрики, логирование, дашборды**
  - Добавить метрики использования LLM (запросы, токены, стоимость, время ответа)
  - Реализовать метрики производительности сервера (задачи/час, успешность, ошибки)
  - Настроить структурированное логирование с уровнями и контекстом
  - Создать дашборды в Grafana для визуализации метрик
  - Внедрить health checks для всех компонентов (LLM, MCP, БД)
  - Добавить алерты на критические события (сбои, превышение лимитов)

## Низкий приоритет

### Безопасность и hardening
- [ ] **Усиление безопасности: валидация, защита от инъекций, аудит**
  - Реализовать валидацию всех входных данных (JSON schema, type checking)
  - Добавить защиту от prompt injection в LLM запросах
  - Внедрить аудит доступа к файлам и API (rate limiting, authentication)
  - Ограничить ресурсы для задач (CPU, память, время выполнения)
  - Добавить шифрование чувствительных данных (API ключи, логи)
  - Реализовать sandbox для выполнения кода в Docker контейнерах

### Документация и обучение
- [ ] **Переработка документации: автогенерация, синхронизация, интерактивность**
  - Внедрить автогенерацию API документации из кода (docstrings → markdown)
  - Синхронизировать документацию с актуальным состоянием кода
  - Создать интерактивные примеры использования (Jupyter notebooks, live demos)
  - Разработать обучающие материалы для новых разработчиков
  - Добавить troubleshooting guides для распространенных проблем
  - Создать roadmap и changelog с автоматическими обновлениями

### CI/CD и автоматизация
- [ ] **Настройка CI/CD пайплайна: тесты, линтинг, билды, деплой**
  - Настроить GitHub Actions для автоматического тестирования на PR
  - Внедрить линтинг и форматирование кода (black, ruff, mypy)
  - Автоматизировать билды Docker образов для разных компонентов
  - Настроить автоматический деплой в staging/production окружения
  - Реализовать semantic versioning и автоматические релизы
  - Добавить security scanning и dependency checks