# Dockerfile.security - Пример для демонстрации сканирования безопасности с Trivy

# Используем базовый образ Trivy для сканирования
# Это не образ для сборки, а образ для запуска сканера
FROM aquasec/trivy:latest

# Устанавливаем необходимые инструменты для доступа к Docker демону, если требуется
# В реальном CI/CD пайплайне, Trivy будет запускаться как отдельный шаг,
# имеющий доступ к Docker сокету или уже собранным образам.
# Здесь мы просто демонстрируем его возможности.

# Entrypoint для запуска сканирования.
# Ожидается, что имя образа для сканирования будет передано как аргумент.
ENTRYPOINT ["trivy", "image", "--severity", "HIGH,CRITICAL", "--format", "table", "--output", "/tmp/trivy-results.txt"]
